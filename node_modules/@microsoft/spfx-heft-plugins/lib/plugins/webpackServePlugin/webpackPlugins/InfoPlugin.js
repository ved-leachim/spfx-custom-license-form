"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.InfoPlugin = void 0;
const ConfigureServe_1 = require("../ConfigureServe");
const PLUGIN_NAME = 'InfoPlugin';
const DEFAULT_TEMP_FOLDER_NAME = 'temp';
class InfoPlugin {
    constructor(options) {
        this._terminal = options.terminal;
        this._port = options.port || ConfigureServe_1.DEFAULT_PORT;
        this._tempFolderName = options.tempFolderName || DEFAULT_TEMP_FOLDER_NAME;
    }
    /**
     * Print information to the developer's console.
     *
     * @public
     * @param compiler
     */
    apply(compiler) {
        compiler.hooks.done.tapAsync(PLUGIN_NAME, (stats, callback) => {
            this._terminal.write(`\n` +
                `================================================\n` +
                `| To load your scripts, use this query string: |\n` +
                `================================================\n` +
                `?debug=true&noredir=true&debugManifestsFile=` +
                `https://localhost:${this._port}/${this._tempFolderName}/manifests.js\n\n`);
            callback();
        });
    }
}
exports.InfoPlugin = InfoPlugin;
//# sourceMappingURL=InfoPlugin.js.map