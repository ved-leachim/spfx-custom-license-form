{"version":3,"file":"ShrinkwrapFileFactory.js","sourceRoot":"","sources":["../../src/logic/ShrinkwrapFileFactory.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAI3D,+DAA4D;AAC5D,kEAA+D;AAC/D,kEAA+D;AAG/D,MAAa,qBAAqB;IACzB,MAAM,CAAC,iBAAiB,CAC7B,cAAkC,EAClC,qBAA6D,EAC7D,kBAA0B;QAE1B,QAAQ,cAAc,EAAE;YACtB,KAAK,KAAK;gBACR,OAAO,qCAAiB,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC;YAC5D,KAAK,MAAM;gBACT,OAAO,uCAAkB,CAAC,YAAY,CACpC,kBAAkB,EAClB,qBAAiD,CAClD,CAAC;YACJ,KAAK,MAAM;gBACT,OAAO,uCAAkB,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC;SAC9D;QACD,MAAM,IAAI,KAAK,CAAC,4BAA4B,cAAc,EAAE,CAAC,CAAC;IAChE,CAAC;CACF;AAnBD,sDAmBC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport { PackageManagerName } from '../api/packageManager/PackageManager';\r\nimport { BaseShrinkwrapFile } from './base/BaseShrinkwrapFile';\r\nimport { NpmShrinkwrapFile } from './npm/NpmShrinkwrapFile';\r\nimport { PnpmShrinkwrapFile } from './pnpm/PnpmShrinkwrapFile';\r\nimport { YarnShrinkwrapFile } from './yarn/YarnShrinkwrapFile';\r\nimport { PackageManagerOptionsConfigurationBase, PnpmOptionsConfiguration } from '../api/RushConfiguration';\r\n\r\nexport class ShrinkwrapFileFactory {\r\n  public static getShrinkwrapFile(\r\n    packageManager: PackageManagerName,\r\n    packageManagerOptions: PackageManagerOptionsConfigurationBase,\r\n    shrinkwrapFilename: string\r\n  ): BaseShrinkwrapFile | undefined {\r\n    switch (packageManager) {\r\n      case 'npm':\r\n        return NpmShrinkwrapFile.loadFromFile(shrinkwrapFilename);\r\n      case 'pnpm':\r\n        return PnpmShrinkwrapFile.loadFromFile(\r\n          shrinkwrapFilename,\r\n          packageManagerOptions as PnpmOptionsConfiguration\r\n        );\r\n      case 'yarn':\r\n        return YarnShrinkwrapFile.loadFromFile(shrinkwrapFilename);\r\n    }\r\n    throw new Error(`Invalid package manager: ${packageManager}`);\r\n  }\r\n}\r\n"]}