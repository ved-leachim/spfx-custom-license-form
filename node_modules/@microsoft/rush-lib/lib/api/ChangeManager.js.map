{"version":3,"file":"ChangeManager.js","sourceRoot":"","sources":["../../src/api/ChangeManager.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAI3D,6CAA0C;AAG1C;;;GAGG;AACH,MAAa,aAAa;IACxB;;;;;;OAMG;IACI,MAAM,CAAC,sBAAsB,CAClC,iBAAoC,EACpC,WAAmB,EACnB,YAAoB;QAEpB,MAAM,WAAW,GAAyC,iBAAiB,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAC1G,IAAI,WAAW,IAAI,WAAW,CAAC,aAAa,EAAE;YAC5C,MAAM,UAAU,GAAgB;gBAC9B,yDAAyD;gBACzD,OAAO,EAAE;oBACP;wBACE,OAAO,EAAE,EAAE;wBACX,WAAW,EAAE,WAAW;wBACxB,IAAI,EAAE,MAAM;qBACb;iBACF;gBACD,WAAW,EAAE,WAAW;gBACxB,KAAK,EAAE,YAAY;aACpB,CAAC;YAEF,OAAO,IAAI,uBAAU,CAAC,UAAU,EAAE,iBAAiB,CAAC,CAAC,SAAS,EAAE,CAAC;SAClE;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;CACF;AAhCD,sCAgCC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport { RushConfiguration } from './RushConfiguration';\r\nimport { RushConfigurationProject } from './RushConfigurationProject';\r\nimport { ChangeFile } from './ChangeFile';\r\nimport { IChangeFile } from './ChangeManagement';\r\n\r\n/**\r\n * A class that helps with programmatically interacting with Rush's change files.\r\n * @public\r\n */\r\nexport class ChangeManager {\r\n  /**\r\n   * Creates a change file that has a 'none' type.\r\n   * @param rushConfiguration - The rush configuration we are working with\r\n   * @param projectName - The name of the project for which to create a change file\r\n   * @param emailAddress - The email address which should be associated with this change\r\n   * @returns the path to the file that was created, or undefined if no file was written\r\n   */\r\n  public static createEmptyChangeFiles(\r\n    rushConfiguration: RushConfiguration,\r\n    projectName: string,\r\n    emailAddress: string\r\n  ): string | undefined {\r\n    const projectInfo: RushConfigurationProject | undefined = rushConfiguration.getProjectByName(projectName);\r\n    if (projectInfo && projectInfo.shouldPublish) {\r\n      const changefile: IChangeFile = {\r\n        // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        changes: [\r\n          {\r\n            comment: '',\r\n            packageName: projectName,\r\n            type: 'none'\r\n          }\r\n        ],\r\n        packageName: projectName,\r\n        email: emailAddress\r\n      };\r\n\r\n      return new ChangeFile(changefile, rushConfiguration).writeSync();\r\n    }\r\n    return undefined;\r\n  }\r\n}\r\n"]}